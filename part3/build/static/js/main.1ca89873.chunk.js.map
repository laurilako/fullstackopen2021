{"version":3,"sources":["components/Filter.js","components/Content.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filter","onChange","Content","persons","handleClick","person","name","toLowerCase","includes","map","number","value","onClick","PersonForm","newName","newNumber","onSubmit","onNumChange","onNameChange","type","bUrl","exportedObj","getAll","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","numObj","put","Notification","message","isError","className","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewfilter","newMessage","setNewMessage","setError","useEffect","personService","event","preventDefault","target","personObject","find","window","confirm","obj","o","changedNum","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ca89873.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, onChange}) =>{\r\n    return(\r\n    <form>\r\n      <div>Filter shown contacts with <input filter={filter}\r\n      onChange={onChange}/>\r\n      </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Content = ({persons, filter, handleClick}) => {\r\n    return(\r\n    <div>\r\n      {filter ? persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n      .map((person => {\r\n        return(\r\n          <div key={person.name}>\r\n            {person.name} {person.number}\r\n            <button value={person.name} onClick={handleClick}>delete</button>\r\n          </div>\r\n          )\r\n      }))\r\n      : persons.map((person) => {\r\n          return(\r\n            <div key={person.name}>\r\n              {person.name} {person.number}\r\n              <button value={person.name} onClick={handleClick}>delete</button>\r\n            </div>)}\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Content","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, onSubmit, onNumChange, onNameChange}) => {\r\n    return(  \r\n      <form onSubmit={onSubmit}>\r\n      <div>Name: <input value={newName} onChange={onNameChange}/></div>\r\n      <div>Number: <input value={newNumber} onChange={onNumChange}/></div>\r\n      <div>\r\n        <button type=\"submit\">add name</button>\r\n      </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst bUrl = 'https://royal-donair-92574.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(bUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(bUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${bUrl}/${id}`)\r\n    return request\r\n}\r\n\r\nconst update = (id, numObj) => {\r\n    const request = axios.put(`${bUrl}/${id}`, numObj)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst exportedObj = {getAll, create, remove, update}\r\n\r\nexport default exportedObj","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n    if(message===''){\r\n        return null\r\n    }\r\n    if(message!=='' && isError===false)\r\n        return(\r\n            <div className=\"message\">\r\n                {message}\r\n            </div>\r\n            )\r\n    else {\r\n        return(\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Content from './components/Content'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/persons'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewfilter ] = useState('')\r\n  const [ newMessage, setNewMessage ] = useState('')\r\n  const [ isError, setError ] = useState(false)\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if( persons.find((person) => person.name === newName)){\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n          const obj = persons.find(o => o.name === newName)\r\n          const id = obj.id\r\n          const changedNum = {...obj, number: newNumber}\r\n        personService\r\n          .update(id, changedNum).then(response => {setPersons(persons.map(person => person.id !== id ? person : response))\r\n          })\r\n          .catch(error => {\r\n            setNewMessage(`Information of ${newName} has already been removed from server`)\r\n            setError(true)\r\n            setTimeout(() => {\r\n              setNewMessage('')\r\n              setError(true)\r\n            }, 5000);\r\n          })\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n    else {\r\n      setPersons(persons.concat(personObject))\r\n      personService\r\n        .create(personObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n      })\r\n      setNewMessage(`${newName} was added to phonebook`)\r\n      setTimeout(() => {\r\n        setNewMessage('')\r\n      }, 5000);\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault()\r\n    const name = event.target.value\r\n    const obj = persons.find(o => o.name === name)\r\n    const id = obj.id\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      personService\r\n        .remove(id)\r\n        .then(() => {\r\n          setPersons(persons.filter(o => o.id !== id))\r\n        })\r\n    setNewMessage(`${name} was deleted from phonebook`)\r\n    setTimeout(() => {\r\n      setNewMessage('')\r\n    }, 5000);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n  const handleFilterChange = (event) => {\r\n    event.preventDefault()\r\n    setNewfilter(event.target.value)\r\n  }\r\n  const handleNameChange = (event) => {\r\n    event.preventDefault()\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    event.preventDefault()\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification message={newMessage} isError={isError} />\r\n      <Filter filter={newFilter} onChange={handleFilterChange}/>\r\n      <h2>Add a new contact</h2>\r\n      <PersonForm onSubmit={addName} newName={newName} newNumber={newNumber}\r\n       onNameChange={handleNameChange} onNumChange={handleNumberChange}/>\r\n      <h2>Contacts</h2>\r\n      <Content persons={persons} filter={newFilter} handleClick={handleClick} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}